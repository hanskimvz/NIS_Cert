# 보안기능 구현명세서 (초안)

## 1. 문서 개요

### 1.1 문서 목적
본 문서는 공공분야 영상정보처리기기(IP 카메라)에 대해
보안기능 확인서 발급을 위해 요구되는 **보안기능의 구현 내용과 동작 방식**을
시험기관에 설명하기 위한 자료이다.

### 1.2 적용 대상
- 제품 유형: IP 카메라 (Network Camera)
- 적용 펌웨어: 본 시험 신청 대상 펌웨어 일체
- 적용 환경: TCP/IP 기반 네트워크 환경

### 1.3 시험 기준
- 공공분야 영상정보처리기기 제품군 보안요구사항
- 국가정보원 보안적합성 검증 정책

---

## 2. 시스템 개요

### 2.1 제품 구성
- 영상 센서 및 렌즈 모듈
- 임베디드 SoC
- 네트워크 인터페이스 (Ethernet)
- 펌웨어(OS, 미들웨어, 애플리케이션)

### 2.2 보안 적용 범위
- 사용자 인증 및 권한 관리
- 설정 및 중요 데이터 저장
- 감사기록 생성 및 관리
- 무결성 검증
- 업데이트 관리
- 암호키 생성 및 보호

---

## 3. 사용자 식별 및 인증

### 3.1 계정 관리
- 관리자 및 일반 사용자 계정을 분리하여 관리
- 관리자 계정만 보안 설정 변경 가능

### 3.2 인증 방식
- HTTPS(TLS 1.2 이상) 기반 통신
- Challenge–Response 방식 인증 지원
- 평문 패스워드 네트워크 전송 없음

### 3.3 패스워드 저장 방식
- 일방향 해시 기반 저장
- 사용자별 salt 적용
  - salt 길이: 48bit 이상
- iteration count: 1000회 이상

---

## 4. 저장 데이터 보호

### 4.1 보호 대상 데이터
- 사용자 패스워드
- 인증 정보
- 암호키 (KEK, DEK)

### 4.2 보호 방식
- 패스워드: salt + 해시 방식으로 저장
- 암호키: 암호화하여 저장
- 하드코딩된 패스워드 및 키 없음

---

## 5. 자체시험(Self-Test)

### 5.1 자체시험 대상
- 주요 프로세스 상태
- 설정 파일 로드 여부
- 필수 보안 모듈 동작 상태

### 5.2 자체시험 수행 시점
- 시스템 부팅 시 자동 수행
- 관리자 요청 시 수동 수행 가능

### 5.3 실패 시 대응
- 프로세스 재시작 또는 경고 메시지 출력
- 자체시험 결과는 감사기록으로 저장

---

## 6. 무결성 검증 기능

### 6.1 검증 대상
- 설정 파일
- 주요 실행 파일 및 라이브러리

### 6.2 검증 방식
- SHA-256 기반 해시 비교
- 기준 해시값은 보호 저장소에 저장

### 6.3 수행 시점
- 시스템 부팅 시 자동 수행
- 관리자 요청 시 수동 수행

### 6.4 실패 시 처리
- 관리자에게 경고 알림
- 감사기록 생성

---

## 7. 업데이트 파일 유효성 검증

### 7.1 업데이트 방식
- 관리자에 의한 수동 업데이트 방식

### 7.2 유효성 검증 절차
- 업데이트 적용 전 전자서명 또는 해시 검증 수행
- SHA-256 이상 알고리즘 사용

### 7.3 검증 실패 처리
- 업데이트 설치 차단
- 감사기록 생성

---

## 8. 감사기록 관리

### 8.1 감사기록 대상
- 로그인 성공/실패
- 보안 설정 변경
- 자체시험 및 무결성 검증 결과
- 업데이트 검증 결과

### 8.2 저장 및 관리
- 로컬 저장소에 저장
- 저장 공간 임계값 도달 시 관리자 알림

### 8.3 외부 전송 (선택)
- syslog over TLS/DTLS 지원 가능

---

## 9. 암호키 생성 및 관리

### 9.1 암호키 구분
- KEK (Key Encryption Key)
- DEK (Data Encryption Key)

### 9.2 암호키 생성
- KEK: PBKDF2 기반 생성
  - salt: 128bit 이상
  - iteration: 1000회 이상
- DEK: 난수발생기 기반 생성

### 9.3 암호키 저장
- DEK는 KEK로 암호화하여 저장
- 암호키 하드코딩 없음

---

## 10. 로그 및 감사기록 보호

- 감사기록은 위·변조 방지를 위해 접근 통제
- 무결성 검증 대상에 감사기록 포함 가능

---

## 11. 결론

본 IP 카메라는 국가 보안요구사항에 따라
사용자 인증, 저장 데이터 보호, 무결성 검증,
업데이트 검증 및 감사기록 관리를 포함한
보안기능을 체계적으로 구현하였다.

본 문서는 시험기관의 보안기능 확인을 위한
설명 자료로 제출된다.

